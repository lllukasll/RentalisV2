@using Microsoft.Ajax.Utilities
@model Rentalis_v2.Models.CarDetailsVievModels
@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="top-margin gtco-container">
    <h2>Car Details</h2>
    <dl class="dl-horizontal">

        <dt>
            Zdjęcie
        </dt>
        <dd>
            <img src="/Admin/RetrieveImage/@Model.car.Id" alt="" height=100 width=200 />
        </dd>
        <dt>
            Nazwa
        </dt>
        <dd>
            <b>@Html.DisplayFor(model => model.car.Name)</b>
        </dd>

        <dt>
            Rok produkcji
        </dt>
        <dd>
            @Html.DisplayFor(model => model.car.ProductionYear)
        </dd>
        <dt>
            Opis
        </dt>
        <dd>
            @Html.Raw(System.Web.HttpUtility.HtmlDecode(Model.car.Description))
        </dd>

        <dt>Abs</dt>
        <dd>@Html.DisplayFor(model => model.car.Abs)</dd>
        <dt>PowerSteering</dt>
        <dd>@Html.DisplayFor(model => model.car.PowerSteering)</dd>
        <dt>AirConditioning</dt>
        <dd>@Html.DisplayFor(model => model.car.AirConditioning)</dd>
        <dt>CentralLocking</dt>
        <dd>@Html.DisplayFor(model => model.car.CentralLocking)</dd>
        <dt>AirBags</dt>
        <dd>@Html.DisplayFor(model => model.car.AirBags)</dd>

        <dt>Doors</dt>
        <dd>@Html.DisplayFor(model => model.car.Doors)</dd>
        <dt>Seets</dt>
        <dd>@Html.DisplayFor(model => model.car.Seets)</dd>
        <dt>FuelType</dt>
        <dd>
            @if (Model.car.FuelType == 0)
            {
                <p>Benzyna</p>
            }
            else if (Model.car.FuelType == 1)
            {
                <p>Diesel</p>
            }
            else if (Model.car.FuelType == 2)
            {
                <p>Benzyna + LPG </p>
            }
        </dd>
        <dt>Type</dt>
        <dd>
            @if (Model.car.Type == 0)
            {
                <p>Sedan</p>
            }
            else if (Model.car.Type == 1)
            {
                <p>Hatch-back</p>
            }
            else if (Model.car.Type == 2)
            {
                <p>Kombi </p>
            }
            else if (Model.car.Type == 3)
            {
                <p>Pick-up </p>
            }
            else if (Model.car.Type == 4)
            {
                <p>Kabriolet </p>
            }
            else if (Model.car.Type == 5)
            {
                <p>Minivan </p>
            }
            else if (Model.car.Type == 6)
            {
                <p>Limuzyna </p>
            }
        </dd>
        <dt>GearBox</dt>
        <dd>
            @if (Model.car.GearBox == 0)
            {
                <p>Manualna</p>
            }
            else if (Model.car.GearBox == 1)
            {
                <p>Automatyczna</p>
            }
        </dd>
        
        @*@{
            DateTime df = Request["dateFrom"];
            DateTime dt = Request["dateTo"];

            string dT = dt.ToString("yyyyMMddhhmmss");
            string dF = df.ToString("yyyyMMddhhmmss");

            <h1>Date From : @dF | Date To : @dT</h1>
        }*@
        
        @if (Model.IsAvailible == 2)
        {
            <h1>Samochód jest dostępny w wybranym terminie @Html.ActionLink("Wypożycz","Rent",new {id=@Model.car.Id, DateFrom=@Model.DateFromDT, DateTo=@Model.DateToDT}, new {@class="btn btn-success"})</h1>
            @*using (Html.BeginForm("Rent", "Car", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <input type="datetime-local" value="@Model.DateFromDT" name="dateFrom" />
                <input type="datetime-local" value="@Model.DateToDT" name="dateTo" />
                <input type="submit" value="Wypożycz" class="btn btn-primary">
            }*@
        }
        
        @if (Model.IsAvailible == 1)
        {
            <h1>Samochód nie jest dostępny w wybranym terminie</h1>
        }

        <form action="#" method="post">
            <div>
                <label for="from">Sprawdź dostępność:</label>
                <input id="from" type="datetime-local" name="dateFrom" required>

                <label for="to">Do:</label>
                <input id="to" type="datetime-local" name="dateTo" required>
                <input type="submit" value="Sprawdź dostępność" class="btn btn-primary">
            </div>
        </form>

        <div class="form-group">
            <div class="col-md-offset-1 col-md-11">
                @Html.ActionLink("Wróć", "Cars","Home", null, new { @class = "btn btn-primary" })
            </div>
        </div>
    </dl>
</div>
